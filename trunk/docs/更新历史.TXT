2008-9-17 23:46:23
今天晚上把registration的注册登录框弄出来了一点，算是一个进步
主要是registration_form.html中的action应该是 action="/accounts/register/" method="post"
然后，由于采用了form技术，就只需要在模板中用{{form}}就可以自动产生一个表格行的form 部件。
django整合 registration,关键是做好模板和forms

##################
# AUTHENTICATION #
##################

AUTHENTICATION_BACKENDS = ('django.contrib.auth.backends.ModelBackend',)

LOGIN_URL = '/accounts/login/'

LOGOUT_URL = '/accounts/logout/'

LOGIN_REDIRECT_URL = '/accounts/profile/'


2008-10-3 1:06:19
今天改了改首页模板 index.html

2008-10-11 23:16:35
pub_date      = models.DateTimeField('date published',default='2008-10-09',blank=True)
上一行中 ,default='2008-10-09' 不能用在DateTimeField（）中，会在后台admin添加项目时出现：
TemplateSyntaxError at /admin/blog/entry/add/
Caught an exception while rendering: 'unicode' object has no attribute 'date'
Template error
In template c:\python25\lib\site-packages\django\contrib\admin\templates\admin\includes\fieldset.html, error at line 11

Caught an exception while rendering: 'unicode' object has no attribute 'date'
1 <fieldset class="module aligned {{ fieldset.classes }}">
 
2   {% if fieldset.name %}<h2>{{ fieldset.name }}</h2>{% endif %}
 
3   {% if fieldset.description %}<div class="description">{{ fieldset.description|safe }}</div>{% endif %}
 
4   {% for line in fieldset %}
 
5       <div class="form-row{% if line.errors %} errors{% endif %} {% for field in line %}{{ field.field.name }} {% endfor %} ">
 
6       {{ line.errors }}
 
7       {% for field in line %}
 
8           {% if field.is_checkbox %}
 
9               {{ field.field }}{{ field.label_tag }}
 
10           {% else %}
 
11               {{ field.label_tag }}{{ field.field }}《《《《《《《《《《《《《《此处
 
12           {% endif %}
 
13           {% if field.field.field.help_text %}<p class="help">{{ field.field.field.help_text|safe }}</p>{% endif %}
 
14       {% endfor %}
 
15       </div>
 
16   {% endfor %}
 
17 </fieldset>
 
======================================
2008-10-12 11:11:47
(r'^page/(?P<page>\d+)/$',       'django.views.generic.list_detail.object_list', dict(pages_dict,page='page')),
上面的urlconf中，前面的<page>中的参数在后面page='page'好像没有取到值

=======================
Template-loader postmortem
Django tried loading these templates, in this order:

Using loader django.template.loaders.filesystem.load_template_source: 
f:\docs\ddtcms\templates\blog\entry_archive_month.html (File does not exist)
f:\docs\ddtcms\forum\templates\blog\entry_archive_month.html (File does not exist)
f:\docs\ddtcms\blog\templates\blog\entry_archive_month.html (File does not exist)
Using loader django.template.loaders.app_directories.load_template_source: 
c:\python25\lib\site-packages\django\contrib\admin\templates\blog\entry_archive_month.html (File does not exist)
c:\python25\lib\site-packages\django\contrib\admindocs\templates\blog\entry_archive_month.html (File does not exist)
c:\python25\lib\site-packages\django\contrib\comments\templates\blog\entry_archive_month.html (File does not exist)
c:\python25\lib\site-packages\django\contrib\sitemaps\templates\blog\entry_archive_month.html (File does not exist)
f:\docs\ddtcms\blog\templates\blog\entry_archive_month.html (File does not exist)
f:\docs\ddtcms\forum\templates\blog\entry_archive_month.html (File does not exist)

=======================
<a href="/blog/archive/{{ year|date:"Y" }}">{{ year|date:"Y" }}</a></li>
以上一句中year=2008，但是使用filter date:"Y"之后，就会出现错误
TemplateSyntaxError at /blog/archive/2008/
Caught an exception while rendering: 'unicode' object has no attribute 'year'
AttributeError: 'unicode' object has no attribute 'year'
解决的办法就是去掉这个date："Y"的filter

=============
大家好，我的django站mysite源代码上传到我自己的群的群共享中了，因为最近比较忙，没有太多的时间修改和改进了，只能算是个半成品，有兴趣的下来看看参考参考吧。代码应该是比较规矩的，没有什么太magic的东西，错误之处希望不要吝惜您的指正
18:03 2008-11-3
一些说明：
模板的css参考了聚友网http://www.ogo.cc/index.php
首页index.html的框架用了一点poco网的,最顶端的参考了QQ首页的横条。
模板使用我想让每个app自带模板
views很多没有写，大多用的是generic_views
blog用了分页，news，article继承blog的entry对象
评论使用了django自带的comments
http://127.0.0.1/sitemap.xml 有错误，因为django自带flatpage有问题
http://127.0.0.1/sitemap_blog.xml可以用
整合了registration，profiles，django-forum，前两者主要是解决了一些模板的问题，就可以用了。以后要完善的就是mysite 的 member模块了。
模板标记中，因为django-forum使用了markdown，所以要下载和安装markdown。
另外，国际化页面，使用了gettext，请到sf下载安装
========
以上内容见docs/更新历史。txt
还有很多地方要完善，首先要完善的就是的blog中不能发图片，只有photo模块可以发图片，现在比较忙，以后在搞吧，嘿嘿
截图请到我的群相册中去看
我的群号码69930365，代码去除了*.pyc,rar格式压缩，共计3.6M ，包含了网站截图和一些图片
忘了说了我的django是1.0版本的
==========================================
2008-11-13 15:25:31
整合了navbar，以后增加了模块，要在导航条中增加一项关于该模块的菜单，就直接在后台中添加就行了，不用改base.html